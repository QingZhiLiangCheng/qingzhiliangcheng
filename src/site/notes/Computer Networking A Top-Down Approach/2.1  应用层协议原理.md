---
{"created":"2025-10-12T20:13","updated":"2025-10-12T20:36","dg-publish":true,"permalink":"/Computer Networking A Top-Down Approach/2.1  应用层协议原理/","dgPassFrontmatter":true,"noteIcon":""}
---

### 网络应用的体系结构
#### 客户-服务器(C/S) 体系结构
![Pasted image 20251012202608.png|300](/img/user/accessory/Pasted%20image%2020251012202608.png)
服务器先运行且一直运行，有固定的IP地址，域名，约定好的接口
客户端主动与服务器进行通信，可能是动态IP地址(比如我们校园网在不同的地方不同的WIFI就是不同的IP)，不能直接与其他客户端通信
服务器和客户端这两种节点是不对等的，服务器是中心，资源在服务器上
CS资源的缺点：可扩展性差 随着访问用户的增加，性能达到一定阈值之后是极具性的下降 ； 可靠性差，服务器宕机就挂掉了

#### P2P(对等体)体系结构
![Pasted image 20251012203520.png|300](/img/user/accessory/Pasted%20image%2020251012203520.png)
任何节点即是客户端又是服务器，增加节点时，会带来新的服务能力，也会带来新的服务请求
eg. 迅雷
难以管理

#### 混合体
**Napster**
Napster是之前大一学生做的一个音乐分发客户端。工作原理是当客户端运行起来的时候会像服务器发送一个注册的命令，告诉服务器“我上线了，我的IP是多少，拥有哪些MP3可以跟别人共享”；然后一个想下载音乐的客户端就会发起请求，然后服务器更多的是调度的作用，然后这个客户端得到音乐后再做出一些注册
目录查询是集中式的，文件的分发是P2P的方式

### 进程通信
网络想要跑起来，需要提供应用之间的通信
如果两个进程跑在一台机器上，那可以通过管道，消息队列... 这些机制来完成通信
但是如果两个应用在不同的终端上，就需要一定的相应的规范来达成通信，主要是通过操作系统所提供的报文Message服务能够收发报文
首先，发起通信的进程，我们叫做客户端进程(clients);等待连接的进程，叫做服务器进程(servers)

#### 分布式进程通信需要解决的问题
问题1: 进程标示和寻址问题 -- 这就像我们买快递需要标识自己的地址一样，所谓的标识，就是这个标识是唯一的，能够跟其他进程能够区分，同时这个标识还应该具备一个寻址的作用，让别人能够找到。
问题2: 应用通过层间结构所提供的服务向对方发送报文，那下层所提供的形式是什么？下层所提供的服务在哪里能够调用？ --  通过层架接口上的SAP，通过SocketAPI这样的形式(一种原语)来访问传输层向上层所提供的服务



