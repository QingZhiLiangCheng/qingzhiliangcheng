---
{"created":"2025-09-22T20:10","updated":"2025-12-26T09:22","dg-publish":true,"permalink":"/Computer Networking A Top-Down Approach/1.5 Internet结构和ISP/","dgPassFrontmatter":true,"noteIcon":""}
---

> 这一部分实际上是原书的1.3.3 A netwrok of networks部分
> // 【2025.12.25 读原书 重新整理笔记】

在前面的学习实际上是通过节点和链路的类型进行划分的，划分为核心网，接入网和终端设备
而另一种划分方式，是可以把一个包括核心，接入和终端设备的这样一个小的网络作为一个子系统叫isp的网络，众多的isp构成一个大的isp
换句话说，Internet就是网络的网络
端系统通过接入ISPs (Internet Service Providers)连接到互联网，比如我们家里可能是通过联通的isp接入互联网，在学校可能是通过学校的接入isp接入互联网
接入isp需要互联，怎么互联？
**Solution 1: 全连接😅**
![Pasted image 20250922202422.png|400](/img/user/accessory/Pasted%20image%2020250922202422.png)
为啥没法这么接？ 首先是复杂度，根本原因在于扩展性差上
**Solution 2**
事实上这里面有利可图，所以会有运营商在里面部署路由器和相应的链路，将所有的设备连接在一起

> [!quote]
>  原书：Our first netwrok structure, Network Structure 1, interconnects all of the access ISPs with a single global transit ISP.
>  // 【2025.12.25 读原书 重新整理笔记】


![Pasted image 20250922202747.png|400](/img/user/accessory/Pasted%20image%2020250922202747.png)
会出现竞争，多个介入

> [!quote]
> 原书：Network Structure 2, which consists of the hundreds of thousands of access ISPs and multiple global transit ISPs.
> 并且原书提到了这是一种二层结构：Network Structure 2, just described, is a two-tier hierachy with global transit provides residing at the top tier and access ISPs at the bottom tier.
> // 【2025.12.26 读原书 补】


![Pasted image 20250922202953.png|400](/img/user/accessory/Pasted%20image%2020250922202953.png)
会有合作: 扩展业务范围
![Pasted image 20250922203141.png|400](/img/user/accessory/Pasted%20image%2020250922203141.png)
可以有对等的连接，就是ISP A, ISP B各出一个路由器，然后通过链路接在一起
还有一种方法是通过IXP(Internet Exchange Point)，在这样一个节点中可以完成abc之间的交换
也可能是高层ISP提供服务涉及费用结算，叫PoP

业务会细分，如果一个大的ISP是要完成全球的接入，那么一个regional的可能就是完成一个区域的接入
> [!quote]
> 原书是先讲的regional ISP，然后才讲了连接的IXP, PoP等
> 原书：We refer to this multi-tier hierarchy, which is still only a crude approximation of today's Internet, as Network Structure 3.
> 具体来说这个multi-tier hierarchy就是
> ```text
> tier-1 ISP(global ISP)
>        |              
> regional ISP           
>        |              
> access ISP
> ```
> // 【2025.12.26 读原书 补】

![Pasted image 20250922203533.png|400](/img/user/accessory/Pasted%20image%2020250922203533.png)


> [!quote]
> 原书是先讲的regional ISP，然后才讲了连接的IXP, PoP等
> 原书: We refer to this ecosystem -- consisting of access ISPs, regional ISPs, tier-1 ISPs, PoPs, multi-homing, peering, and IXPs -- as Network Structure 4.
> PoP 原书是这么说的： A PoP is simply a group of one or more routers (at the same location) in the provider's network where customer ISPs can connet into the provider ISP.
> multi-home: Any ISP (execpt for tier-1 ISPs) may choose to multi-home, that is, to connect two or more provider ISPs.
> peer: a pair of nearby ISPs at the same level of the hierachy can peer, that is , they can directly connect their network together so that all the traffic between them passes over the direct connection rather than through upstream intermediaries. -- reduce costs.
> Internet Exchange Point (IXP), which is a meeting point where multiple ISPs can peer together.
> // 【2025.12.26 读原书 补】


除了用户，ISP(Internet Service Providers, 互联网服务提供商)，还会有ICP(Internet Content Providers, 互联网内容提供商)，比如百度...，而这些ICP也要接入互联网，这样客户才能通过regional net, ISP等接入到ICP访问ICP的服务，ICP就会将内容，地图等这样的服务提供给客户
![Pasted image 20250922205004.png|400](/img/user/accessory/Pasted%20image%2020250922205004.png)
但是ICP如果想接入整个互联网，也要付费，而且付费还挺高，而且很难像全球的用户提供服务，所以比如google，会自己铺网络，在世界各地会部DC(data center, 数据中心) (可能是铺线缆，也可能是租线缆), 而且他们会把自己的DC部署在离ISP比较近的地方，这样我们通过ISP访问的时候会更快(当然这个只是一部分用，google的算法也很牛)

> [!quote]
> 原书: Network Structure 5, illustrated in Figure 1.15, builds on top of Network Structure 4 by adding content-provider networks.
> 书中也提到了google的自建网络，包括google的一些major data centers, 一些located within IXPs的smaller data centers
> // 【2025.12.26 读原书 补】


不过国内的ICP还有一招hhh，就是像政府提案 增速降费，因为联通啥的都是国企，所以..hhh

所以实际上他们的结构是这样的
![Pasted image 20250922205204.png|500](/img/user/accessory/Pasted%20image%2020250922205204.png)
