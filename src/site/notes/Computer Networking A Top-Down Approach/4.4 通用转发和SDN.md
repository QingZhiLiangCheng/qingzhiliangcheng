---
{"created":"2026-01-03T23:01","updated":"2026-01-23T15:48","dg-publish":true,"permalink":"/Computer Networking A Top-Down Approach/4.4 通用转发和SDN/","dgPassFrontmatter":true,"noteIcon":""}
---

### Overview
传统实现数据平面和控制平面采用的是一种垂直集成的方式，所谓的垂直集成，是指每个路由器既集成了数据平面的功能，又集成了控制平面的功能。并且控制平面的功能是分布式的去实现的
这样传统实现的一些问题？
网络设备非常多，在网络层除了路由器之外，还有防火墙，NAT设备，负载均衡设备... 每个设备都需要去实现控制平面功能和数据平面功能，并且不一样，管理也困难
路由器已经定义好了，想改变工作方式非常难
垂直集成，买一个设备，既买了硬件，又买了上面的系统...

有没有别的方式？ —— SDN(逻辑上集中的控制平面)

### SDN
![Pasted image 20260123160242.png|500](/img/user/accessory/Pasted%20image%2020260123160242.png)
SDN实际上把控制平面和数据平面分离，采用集中化的网络控制器来实现控制平面的功能，通过南向接口，将算出来的流表，发给每个设备的控制代理(CA). 控制代理将流表装载下来，分组交换机就能够对到来的分组匹配流表，根据匹配的流表的表项做出相应的动作。
在这里，就不仅仅是匹配目标IP了，可以匹配目标IP，源IP，目标端口，源端口，目标MAC，源MAC，还有一些别的头部字段。相应的动作也不仅仅有转发一种了，有转发，有扔掉，有泛洪，甚至可以修改字段
网络变的可编程，可升级；分组交换机比较单纯，可以变得便宜；都遵循相同的南向接口，控制代理，网络控制器可以使用不同的操作系统，只要符合对应的标准即可
![Pasted image 20260123161316.png|400](/img/user/accessory/Pasted%20image%2020260123161316.png)

传统工作方式下，控制平面和数据平面的垂直集成，很难实现一些流量控制方面的特性
SDN很容易实现
![Pasted image 20260123161836.png|600](/img/user/accessory/Pasted%20image%2020260123161836.png)


![Pasted image 20260123161950.png|500](/img/user/accessory/Pasted%20image%2020260123161950.png)

![Pasted image 20260123162001.png|500](/img/user/accessory/Pasted%20image%2020260123162001.png)

![Pasted image 20260123162011.png|500](/img/user/accessory/Pasted%20image%2020260123162011.png)

![Pasted image 20260123162450.png|500](/img/user/accessory/Pasted%20image%2020260123162450.png)

### OpenFlow
OpenFlow实际上是一种南向接口的标准？
![Pasted image 20260123162657.png|500](/img/user/accessory/Pasted%20image%2020260123162657.png)
比如
![Pasted image 20260123162755.png|400](/img/user/accessory/Pasted%20image%2020260123162755.png)
第一条其实就是一个防火墙的功能
![Pasted image 20260123162821.png|500](/img/user/accessory/Pasted%20image%2020260123162821.png)

![Pasted image 20260123162838.png|500](/img/user/accessory/Pasted%20image%2020260123162838.png)
![Pasted image 20260123163056.png|500](/img/user/accessory/Pasted%20image%2020260123163056.png)
