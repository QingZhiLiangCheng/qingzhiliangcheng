---
{"tags":["LCU操作系统"],"dg-publish":true,"permalink":"/Operating System/LCU Operating System/专题九：PV操作/","dgPassFrontmatter":true,"noteIcon":"","created":"2025-06-18T21:38:03.404+08:00","updated":"2025-06-21T09:46:01.070+08:00"}
---


一条小河上有一座独木桥，规定每次只允许一个人过桥。现河东和河西都有相等的人数在等待过桥，为了使两边的人都有同样的过桥机会，规定某边的一个人过桥后要让另一边的一个人过桥，即两边的人交替过桥。如果把每个过桥者看做一个进程，为保证安全，用PV操作来管理。
写出应定义的信号量及其初值。
假定开始时让河东的一个人先过桥，然后交替过桥。请用适当的PV操作，达到上述管理要求。


假定有三个进程R、W1、W2共享一个缓冲区Buffer。进程R读入数据放到缓冲区Buffer中；若缓冲区中的数为奇数，则进程W1将其取出显示；若缓冲区中的数为偶数，则进程W2将其取出显示。对它们有如下的限制条件：
缓冲区中每次只能存放一个数
只有当缓冲区中没有数，或W1或W2将数取走后，进程R才可以将新读入的数放到缓冲区中。
进程W1或W2对每次存入缓冲区中的数只能显示一次，且W1和W2都不能从空缓冲区中取数。
假定开始缓冲区为空，利用记录型信号量及wait、signal操作写出三个并发进程的正确工作程序。
is 生产者消费者的变式
